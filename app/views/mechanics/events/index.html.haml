:javascript
  $(function() {
    var $flash = $('.js-flash-notice'),
       show_flash_notice = function () {
         $flash.before('<div class="alert alert-success">Event succesfully deleted.</div>');
       };
    var $calendar = $('#calendar');
    var date = new Date();
    var d = date.getDate();
    var m = date.getMonth();
    var y = date.getFullYear();

    $calendar.fullCalendar({
      header: {
        left: 'title',
        center: '',
        right: 'prev,next,today,month,agendaWeek,agendaDay'
      },
      events: #{ events.to_json },
      eventClick: function(event) {
        if(confirm("Are you sure you want to delete this record?")) {
          $calendar.fullCalendar( 'removeEvents', event.id );
          $.ajax({
            url: event.url,
            type: "POST",
            data: { _method:'DELETE' }
          }).done(function() {
            show_flash_notice();
          });
        }
        return false;
      }
    });
  });
.row.js-flash-notice
  .col-md-12
    = link_to 'Back', edit_mechanics_profile_path, class: 'btn btn-info pull-right col-md-2 bottom-margin'
.row
  .col-md-12
    .panel.panel-default.panel-rounded
      .panel-heading.clearfix
        %h4.panel-title
          Availabilities
      .panel-body.modal-body
        .row
          %h1 Calendar
          #calendar
        .row
          = simple_form_for :event do |f|
            = f.input :days_off, as: :check_boxes, collection: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']
            = f.hidden_field :recurrence, value: 'weekly'
            = f.hidden_field :title, value: 'Day off'
            = f.submit 'Set', class: 'btn btn-success'
